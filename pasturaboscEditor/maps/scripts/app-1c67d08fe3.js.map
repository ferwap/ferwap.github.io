{"version":3,"sources":["scripts/app-1c67d08fe3.js"],"names":["angular","module","TranslateController","ngTranslation","$log","vm","this","changeLanguage","lang","debug","use","$inject","controller","services","$http","$q","getNews","defered","defer","promise","get","success","data","resolve","error","err","reject","getNewsFileName","service","recipes","news","acmeNavbar","NavbarController","moment","$scope","language","directive","restrict","templateUrl","scope","relativeDate","controllerAs","bindToController","methodologies","acmeFooter","FooterController","BootSwatchService","activate","getThemes","then","themes","unshift","name","css","factory","response","theme","link","element","currentTheme","attr","parent","addClass","on","removeClass","MainController","toastr","loadLanguageOptions","getNewsThings","wysihtml5","html","resetNewsEdit","datetimepicker","format","newsEdit","id","image","url","date","title","description","text","editor","setValue","newsService","newsThings","exportSaveJSONLink","encodeURIComponent","JSON","stringify","fileName","appendTo","languageOptions","field","selected","newsThingFilter","loadNewsThing","i","length","remove","splice","reset","save","newsEdited","val","push","changeNewsLanguage","changeService","serviceId","runBlock","$location","search","run","routerConfig","$stateProvider","$urlRouterProvider","state","otherwise","config","constant","$logProvider","toastrConfig","ngTranslationProvider","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","setDirectory","setFilesSuffix","langsFiles","en","fr","es","ca","fallbackLanguage","$templateCache","put"],"mappings":"CAAA,WACE,YAEAA,SACGC,OAAO,qBAAsB,YAAa,YAAa,UAAW,aAAc,aAAc,SAAU,aAAc,YAAa,eAAgB,SAAU,iBAAkB,yBAIpL,WACE,YAOA,SAASC,GAAoBC,EAAeC,GAC1C,GAAIC,GAAKC,IACTD,GAAGE,eAAiB,SAAUC,GAC1BJ,EAAKK,MAAM,yCAAyCD,GACpDL,EAAcO,IAAIF,IATxBN,EAAoBS,SAAW,gBAAiB,QAAhDX,QACGC,OAAO,qBACPW,WAAW,sBAAuBV,MAWvC,WACE,YAOA,SAASW,GAASC,EAAOC,GAIvB,QAASC,KACX,GAAIC,GAAUF,EAAGG,QACPC,EAAUF,EAAQE,OAQ5B,OANAL,GAAMM,IAAI,6BAA6BC,QAAQ,SAASC,GACvDL,EAAQM,QAAQD,KACdE,MAAM,SAASC,GACjBR,EAAQS,OAAOD,KAGTN,EAGR,QAASQ,KACR,MAAO,gBAjBLrB,KAAKU,QAAUA,EAClBV,KAAKqB,gBAAkBA,EANtBd,EAASF,SAAW,QAAS,MAD7BX,QACKC,OAAO,qBACP2B,QAAQ,WAAYf,MA4B3B,WACE,YAOA,SAASgB,GAAQf,EAAOC,GAItB,QAASC,KACX,GAAIC,GAAUF,EAAGG,QACPC,EAAUF,EAAQE,OAQ5B,OANAL,GAAMM,IAAI,4BAA4BC,QAAQ,SAASC,GACtDL,EAAQM,QAAQD,KACdE,MAAM,SAASC,GACjBR,EAAQS,OAAOD,KAGTN,EAGR,QAASQ,KACR,MAAO,eAjBLrB,KAAKU,QAAUA,EAClBV,KAAKqB,gBAAkBA,EALtBE,EAAQlB,SAAW,QAAS,MAF5BX,QACKC,OAAO,qBACP2B,QAAQ,UAAWC,MA4B1B,WACE,YAOA,SAASC,GAAKhB,EAAOC,GAInB,QAASC,KACX,GAAIC,GAAUF,EAAGG,QACPC,EAAUF,EAAQE,OAQ5B,OANAL,GAAMM,IAAI,yBAAyBC,QAAQ,SAASC,GACnDL,EAAQM,QAAQD,KACdE,MAAM,SAASC,GACjBR,EAAQS,OAAOD,KAGTN,EAGR,QAASQ,KACR,MAAO,YAjBLrB,KAAKU,QAAUA,EAClBV,KAAKqB,gBAAkBA,EAJtBG,EAAKnB,SAAW,QAAS,MAHzBX,QACKC,OAAO,qBACP2B,QAAQ,OAAQE,MA4BvB,WACE,YAWA,SAASC,KAWP,QAASC,GAAiBC,EAAQ7B,EAAMD,EAAe+B,GAQnDA,EAAO3B,eAAiB,SAAUC,GAC9BJ,EAAKK,MAAM,sCAAsCD,GAC1D0B,EAAOC,SAAW3B,EACTL,EAAcO,IAAIF,IArB1BwB,EAAiBrB,SAAW,SAAU,OAAQ,gBAAiB,SAJ/D,IAAIyB,IACFC,SAAU,IACVC,YAAa,oCACbC,OACIC,aAAc,KAElB5B,WAAYoB,EACZS,aAAc,KACdC,kBAAkB,EAGpB,OAAON,GAjBTpC,QACGC,OAAO,qBACPmC,UAAU,aAAcL,MAoC7B,WACE,YAOA,SAASY,GAAc7B,EAAOC,GAI5B,QAASC,KACX,GAAIC,GAAUF,EAAGG,QACPC,EAAUF,EAAQE,OAQ5B,OANAL,GAAMM,IAAI,kCAAkCC,QAAQ,SAASC,GAC5DL,EAAQM,QAAQD,KACdE,MAAM,SAASC,GACjBR,EAAQS,OAAOD,KAGTN,EAGR,QAASQ,KACR,MAAO,qBAjBLrB,KAAKU,QAAUA,EAClBV,KAAKqB,gBAAkBA,EAFtBgB,EAAchC,SAAW,QAAS,MALlCX,QACKC,OAAO,qBACP2B,QAAQ,gBAAiBe,MA4BhC,WACE,YAaA,SAASC,KASP,QAASC,GAAiBX,EAAQY,GAKpC,QAASC,KACRC,IAGD,QAASA,KAERF,EAAkB1B,MAAM6B,KAAK,SAASC,GACrChB,EAAOgB,OAASA,EAChBhB,EAAOgB,OAAOC,SAASC,KAAK,UAAUC,IAAI,OAZ5CnB,EAAOgB,UAEPH,IAXEF,EAAiBlC,SAAW,SAAU,oBANtC,IAAIyB,IACFC,SAAU,IACVC,YAAa,oCACbC,OACIC,aAAc,KAElB5B,WAAYiC,EACZJ,aAAc,KACdC,kBAAkB,EAGpB,OAAON,GAjBTpC,QACGC,OAAO,qBACPmC,UAAU,aAAcQ,MAyC7B5C,QAAQC,OAAO,qBACVqD,QAAQ,qBAAA,QAAqB,SAAUxC,GACpC,OACIM,IAAK,WACD,MAAON,GAAMM,IAAI,oCAAoC6B,KAAK,SAAUM,GAChE,MAAOA,GAASjC,KAAK4B,cAOzClD,QAAQC,OAAO,qBACVmC,UAAU,gBAAiB,WAExB,OACIC,SAAU,IACVE,OACIiB,MAAQ,kBAEZC,KAAM,SAAUlB,EAAOmB,GACnB,GAAIC,GAAe3D,QAAQ0D,QAAQ,mBAAmBE,KAAK,QACxDrB,GAAMiB,MAAMJ,OAASO,GACpBD,EAAQG,SAASC,SAAS,UAG9BJ,EAAQK,GAAG,QAAQ,WACf/D,QAAQ0D,QAAQ,mBAAmBE,KAAK,OAAQrB,EAAMiB,MAAMH,KAC5DrD,QAAQ0D,QAAQ,eAAeM,YAAY,UAC3CN,EAAQG,SAASC,SAAS,gBAK9C,WACE,YAOA,SAASG,GAAenC,EAAM1B,EAAM8D,EAAQrD,EAAU8B,EAAed,GAYnE,QAASkB,KACXoB,IACAC,IACApE,QAAQ0D,QAAQ,YAAYW,WAAWC,MAAO,IAC9CC,IACAvE,QAAQ0D,QAAQ,oBAAoBc,gBACtBC,OAAQ,eAIpB,QAASF,KACXlE,EAAGqE,UACFC,GAAM,EACNxC,SAAY,KACZyC,MAAQ,GACRC,IAAM,GACNC,KAAO,GACPC,MAAQ,GACRC,YAAc,GACdC,KAAO,IAERjF,QAAQ0D,QAAQ,YAAYpC,KAAK,aAAa4D,OAAOC,SAAS,IAG5D,QAASf,KACXgB,EAAYpE,UAAUiC,KAAK,SAAS3B,GACnCjB,EAAGgF,WAAa/D,IADjB8D,SAGO,SAAS3D,GACfrB,EAAKoB,MAAMC,KAmDb,QAAS6D,KACRtF,QAAQ0D,QAAQ,sBAAsBY,KAAK,GAC3C,IAAIhD,GAAO,2BAA6BiE,mBAAmBC,KAAKC,UAAUpF,EAAGgF,aACzEK,EAAWN,EAAYzD,iBAC3B3B,SAAQ0D,QAAQ,iBAAmBpC,EAAO,eAAeoE,EAAS,cAAcA,EAAS,QAAQC,SAAS,sBAG3G,QAASxB,KACR9D,EAAGuF,kBAEDC,MAAO,KACPd,MAAO,WAGPc,MAAM,KACNd,MAAM,aAGNc,MAAM,KACNd,MAAM,WAGNc,MAAO,KACPd,MAAO,YAGT1E,EAAGyF,SAAWzF,EAAGuF,gBAAgB,GAAGC,MACpCxF,EAAG0F,gBAAgB5D,SAAW9B,EAAGyF,SAtH/B,GAAIzF,GAAKC,IACZD,GAAGgF,cACHhF,EAAGqE,YACHrE,EAAG0F,mBACH1F,EAAGuF,mBACHvF,EAAGyF,WAEH,IAAIV,GAActD,CAEfiB,KAmCH1C,EAAG2F,cAAgB,SAAUrB,GAC5BvE,EAAKK,MAAM,oBAAsBkE,EACjC,KAAI,GAAIsB,GAAI,EAAGA,EAAE5F,EAAGgF,WAAWa,OAAOD,IACrC,GAAI5F,EAAGgF,WAAWY,GAAGtB,KAAOA,EAAI,CAC/BtE,EAAGqE,SAAWrE,EAAGgF,WAAWY,GAC5BjG,QAAQ0D,QAAQ,YAAYpC,KAAK,aAAa4D,OAAOC,SAAS9E,EAAGqE,SAASO,KAC1E,SAKH5E,EAAG8F,OAAS,SAAUxB,GACrB,IAAI,GAAIsB,GAAI,EAAGA,EAAE5F,EAAGgF,WAAWa,OAAOD,IACrC,GAAI5F,EAAGgF,WAAWY,GAAGtB,KAAOA,EAAI,CAC/BtE,EAAGgF,WAAWe,OAAOH,EAAG,GACxBX,IACApB,EAAO7C,QAAQ,6BACfkD,GACA,SAKHlE,EAAGgG,MAAQ,WACV9B,KAGDlE,EAAGiG,KAAO,SAAUC,GAGnB,GAFAnG,EAAKK,MAAM,mBACX8F,EAAWtB,KAAOjF,QAAQ0D,QAAQ,YAAY8C,MACzB,IAAlBD,EAAW5B,GACb4B,EAAW5B,GAAKtE,EAAGgF,WAAWa,OAAQ,EACtC7F,EAAGgF,WAAWoB,KAAKF,GACnBrC,EAAO7C,QAAQ,iCAEf,KAAI,GAAI4E,GAAI,EAAGA,EAAE5F,EAAGgF,WAAWa,OAAOD,IACrC,GAAI5F,EAAGgF,WAAWY,GAAGtB,KAAO4B,EAAW5B,GAAI,CAC1CtE,EAAGgF,WAAWY,GAAKM,EACnBrC,EAAO7C,QAAQ,4BACf,OAIHiE,IACAlF,EAAKK,MAAM8F,IAiCZlG,EAAGqG,mBAAqB,WACvBrG,EAAG0F,gBAAgB5D,SAAW9B,EAAGyF,SACjCvB,KAGDlE,EAAGsG,cAAgB,SAASC,GAC3BrC,IACAvE,QAAQ0D,QAAQ,sBAAsBY,KAAK,IAE1Cc,EADgB,IAAdwB,EACYjE,EACS,IAAdiE,EACK/E,EACS,IAAd+E,EACK/F,EAEAiB,EAEfsC,KAzIAH,EAAetD,SAAW,OAAQ,OAAQ,SAAU,WAAY,gBAAiB,WAPjFX,QACGC,OAAO,qBACPW,WAAW,iBAAkBqD,MAmKlC,WACE,YAOA,SAAS4C,GAASzG,EAAMD,EAAe2G,GACnC3G,EAAcO,IACZoG,EAAUC,SAASvG,MAEvBJ,EAAKK,MAAM,gBADboG,EAASlG,SAAW,OAAQ,gBAAiB,aAR7CX,QACGC,OAAO,qBACP+G,IAAIH,MAYT,WACE,YAOA,SAASI,GAAaC,EAAgBC,GACpCD,EACGE,MAAM,QACLvC,IAAK,IACLvC,YAAa,qBACb1B,WAAY,iBACZ6B,aAAc,SAIlB0E,EAAmBE,UAAU,KAN/BJ,EAAatG,SAAW,iBAAkB,sBAT1CX,QACGC,OAAO,qBACPqH,OAAOL,MAmBZ,WACE,YAEAjH,SACGC,OAAO,qBACPsH,SAAS,SAAUtF,WAIxB,WACE,YAOA,SAASqF,GAAOE,EAAcC,EAAcC,GAE1CF,EAAaG,cAAa,GAG1BF,EAAaG,WAAY,EACzBH,EAAaI,QAAU,IACvBJ,EAAaK,cAAgB,kBAC7BL,EAAaM,mBAAoB,EACjCN,EAAaO,aAAc,EAE3BN,EACGO,aAAa,YACbC,eAAe,SACfC,YACCC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,OAELC,iBAAiB,MAftBlB,EAAO3G,SAAW,eAAgB,eAAgB,yBAVlDX,QACGC,OAAO,qBACPqH,OAAOA,MA6BZtH,QAAQC,OAAO,qBAAqB+G,KAAK,iBAAkB,SAASyB,GAAiBA,EAAeC,IAAI,qBAAqB,sgIAC7HD,EAAeC,IAAI,oCAAoC,6kBACvDD,EAAeC,IAAI,oCAAoC","file":"scripts/app-1c67d08fe3.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('pasturaboscEditor', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', 'toastr', 'ng-translation', 'uiGmapgoogle-maps']);\n\n})();\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('pasturaboscEditor')\r\n    .controller('TranslateController', TranslateController);\r\n\r\n  /** @ngInject */\r\n  function TranslateController(ngTranslation, $log) {\r\n    var vm = this;\r\n    vm.changeLanguage = function (lang) {\r\n        $log.debug('TranslateController.changeLanguage to '+lang);\r\n        ngTranslation.use(lang);\r\n    }\r\n  }\r\n})();\n(function() {\n  'use strict';\n\n  angular\n      .module('pasturaboscEditor')\n      .service('services', services);\n\n  /** @ngInject */\n  function services($http, $q) {\n    this.getNews = getNews;\n\tthis.getNewsFileName = getNewsFileName;\n\n    function getNews() {\n\t\tvar defered = $q.defer();\n        var promise = defered.promise;\n\t\t\n\t\t$http.get('assets/news/services.json').success(function(data) {\n\t\t\tdefered.resolve(data);\n\t\t}).error(function(err) {\n\t\t\tdefered.reject(err)\n        });\n\t\t\n\t\treturn promise;\n    }\n\t\n\tfunction getNewsFileName() {\n\t\treturn \"services.json\";\n\t}\t\n\t\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n      .module('pasturaboscEditor')\n      .service('recipes', recipes);\n\n  /** @ngInject */\n  function recipes($http, $q) {\n    this.getNews = getNews;\n\tthis.getNewsFileName = getNewsFileName;\n\n    function getNews() {\n\t\tvar defered = $q.defer();\n        var promise = defered.promise;\n\t\t\n\t\t$http.get('assets/news/recipes.json').success(function(data) {\n\t\t\tdefered.resolve(data);\n\t\t}).error(function(err) {\n\t\t\tdefered.reject(err)\n        });\n\t\t\n\t\treturn promise;\n    }\n\t\n\tfunction getNewsFileName() {\n\t\treturn \"recipes.json\";\n\t}\t\n\t\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n      .module('pasturaboscEditor')\n      .service('news', news);\n\n  /** @ngInject */\n  function news($http, $q) {\n    this.getNews = getNews;\n\tthis.getNewsFileName = getNewsFileName;\n\n    function getNews() {\n\t\tvar defered = $q.defer();\n        var promise = defered.promise;\n\t\t\n\t\t$http.get('assets/news/news.json').success(function(data) {\n\t\t\tdefered.resolve(data);\n\t\t}).error(function(err) {\n\t\t\tdefered.reject(err)\n        });\n\t\t\n\t\treturn promise;\n    }\n\t\n\tfunction getNewsFileName() {\n\t\treturn \"news.json\";\n\t}\t\n\t\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('pasturaboscEditor')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          relativeDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController(moment, $log, ngTranslation, $scope) {\n\n        // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n        //vm.relativeDate = moment(vm.creationDate).fromNow();\n        \n\t\t//$scope.language = ngTranslation.getLang\n\t\t// obtain language list from servide\n\t\t\n        $scope.changeLanguage = function (lang) {\n            $log.debug('NavbarController.changeLanguage to '+lang);\n\t\t\t$scope.language = lang;\n            ngTranslation.use(lang);\n        };    \n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n      .module('pasturaboscEditor')\n      .service('methodologies', methodologies);\n\n  /** @ngInject */\n  function methodologies($http, $q) {\n    this.getNews = getNews;\n\tthis.getNewsFileName = getNewsFileName;\n\n    function getNews() {\n\t\tvar defered = $q.defer();\n        var promise = defered.promise;\n\t\t\n\t\t$http.get('assets/news/methodologies.json').success(function(data) {\n\t\t\tdefered.resolve(data);\n\t\t}).error(function(err) {\n\t\t\tdefered.reject(err)\n        });\n\t\t\n\t\treturn promise;\n    }\n\t\n\tfunction getNewsFileName() {\n\t\treturn \"methodologies.json\";\n\t}\n\t\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('pasturaboscEditor')\n    .directive('acmeFooter', acmeFooter);\n\n  /** @ngInject */\n  function acmeFooter() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/footer/footer.html',\n      scope: {\n          relativeDate: '='\n      },\n      controller: FooterController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function FooterController($scope, BootSwatchService) {\n\t\t$scope.themes = [];\n\t\t\n\t\tactivate();\n\t\t\n\t\tfunction activate() {\n\t\t\tgetThemes();\n\t\t}\n\t\t\n\t\tfunction getThemes() {\n\t\t\t/*Get the list of availabel bootswatch themes*/\n\t\t\tBootSwatchService.get().then(function(themes) {\n\t\t\t\t$scope.themes = themes;\n\t\t\t\t$scope.themes.unshift({name:'Default',css:''});\n\t\t\t});\n\t\t}  \n    }\n  }\n\n})();\n\n'use strict';\r\n\r\nangular.module('pasturaboscEditor')\r\n    .factory('BootSwatchService', function ($http) {\r\n        return {\r\n            get: function() {\r\n                return $http.get('http://bootswatch.com/api/3.json').then(function (response) {\r\n                    return response.data.themes;\r\n                });\r\n            }\r\n        };\r\n    });\n'use strict';\r\n\r\nangular.module('pasturaboscEditor')\r\n    .directive('jhSwitchTheme', function() {\r\n        /*Directive binds to anchor to update the bootswatch theme selected*/\r\n        return {\r\n            restrict: 'A',\r\n            scope: {\r\n                theme : '=jhSwitchTheme'\r\n            },\r\n            link: function (scope, element) {\r\n                var currentTheme = angular.element(\"#bootswatch-css\").attr('title');\r\n                if(scope.theme.name === currentTheme){\r\n                    element.parent().addClass(\"active\");\r\n                }\r\n\r\n                element.on('click',function(){\r\n                    angular.element(\"#bootswatch-css\").attr(\"href\", scope.theme.css);\r\n                    angular.element(\".theme-link\").removeClass(\"active\");\r\n                    element.parent().addClass(\"active\");\r\n                });\r\n            }\r\n        };\r\n    });\n(function() {\n  'use strict';\n\n  angular\n    .module('pasturaboscEditor')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController(news, $log, toastr, services, methodologies, recipes) {\n    var vm = this;\n\tvm.newsThings = [];\n\tvm.newsEdit = {};\n\tvm.newsThingFilter = {};\n\tvm.languageOptions = [];\n\tvm.selected = {};\n\t\n\tvar newsService = news;\n\n    activate();\n\n    function activate() {\n\t\tloadLanguageOptions();\n\t\tgetNewsThings();\n\t\tangular.element('#comment').wysihtml5({\"html\":true});\n\t\tresetNewsEdit();\n\t\tangular.element('#datetimepicker1').datetimepicker({\n                format: 'DD/MM/YYYY'\n        });\n\t}\n\n    function resetNewsEdit() {\n\t\tvm.newsEdit = {\n\t\t\t\"id\": 0,\n\t\t\t\"language\": \"ca\",\n\t\t\t\"image\":\"\",\n\t\t\t\"url\":\"\",\n\t\t\t\"date\":\"\",\n\t\t\t\"title\":\"\",\n\t\t\t\"description\":\"\",\n\t\t\t\"text\":\"\"\n\t\t};\n\t\tangular.element('#comment').data(\"wysihtml5\").editor.setValue(\"\");\n    }\t\n\t\n    function getNewsThings() {\n\t\tnewsService.getNews().then(function(data) {\n\t\t\tvm.newsThings = data;\n\t\t})\n\t\t.catch(function(err) {\n\t\t\t$log.error(err);\n        });\n    }\t\n\t\n\tvm.loadNewsThing = function (id) {\n\t\t$log.debug('loadNewsThing id:' + id);\n\t\tfor(var i = 0; i<vm.newsThings.length;i++) {\n\t\t\tif (vm.newsThings[i].id === id) {\n\t\t\t\tvm.newsEdit = vm.newsThings[i];\n\t\t\t\tangular.element('#comment').data(\"wysihtml5\").editor.setValue(vm.newsEdit.text);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tvm.remove = function (id) {\n\t\tfor(var i = 0; i<vm.newsThings.length;i++) {\n\t\t\tif (vm.newsThings[i].id === id) {\n\t\t\t\tvm.newsThings.splice(i, 1);\n\t\t\t\texportSaveJSONLink();\n\t\t\t\ttoastr.success('Content removed correctly');\n\t\t\t\tresetNewsEdit();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tvm.reset = function () {\n\t\tresetNewsEdit();\n\t}\n\t\n\tvm.save = function (newsEdited) {\n\t\t$log.debug('save newsEdited');\n\t\tnewsEdited.text = angular.element('#comment').val();\n\t\tif(newsEdited.id === 0) {\n\t\t\tnewsEdited.id = vm.newsThings.length +1;\n\t\t\tvm.newsThings.push(newsEdited);\n\t\t\ttoastr.success('Content created correctly');\n\t\t} else {\n\t\t\tfor(var i = 0; i<vm.newsThings.length;i++) {\n\t\t\t\tif (vm.newsThings[i].id === newsEdited.id) {\n\t\t\t\t\tvm.newsThings[i] = newsEdited;\n\t\t\t\t\ttoastr.success('Content updated correctly');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\texportSaveJSONLink();\n\t\t$log.debug(newsEdited);\n\t}\n\t\n\tfunction exportSaveJSONLink() {\n\t\tangular.element(\"#saveJsonContainer\").html(\"\");\n\t\tvar data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(vm.newsThings));\n\t\tvar fileName = newsService.getNewsFileName();\n\t\tangular.element('<a href=\"data:' + data + '\" download=\"'+fileName+'\">Exportar '+fileName+'</a>').appendTo('#saveJsonContainer');\n\t}\n\t\n\tfunction loadLanguageOptions() {\n\t\tvm.languageOptions = [\n\t\t\t{\n\t\t\t\tfield: \"ca\",\n\t\t\t\ttitle: \"Català\"\n\t\t\t},\n\t\t\t{ \n\t\t\t\tfield:\"es\",\n\t\t\t\ttitle:\"Castellà\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tfield:\"en\",\n\t\t\t\ttitle:\"Angles\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tfield: \"fr\",\n\t\t\t\ttitle: \"Frances\"\n\t\t\t}\n\t\t];\n\t\tvm.selected = vm.languageOptions[0].field;\n\t\tvm.newsThingFilter.language = vm.selected;\n\t}\n\t\n\tvm.changeNewsLanguage = function() {\n\t\tvm.newsThingFilter.language = vm.selected;\n\t\tresetNewsEdit();\n\t}\n\t\n\tvm.changeService = function(serviceId) {\n\t\tresetNewsEdit();\n\t\tangular.element(\"#saveJsonContainer\").html(\"\");\n\t\tif(serviceId === 3) {\n\t\t\tnewsService = methodologies;\n\t\t} else if(serviceId === 2) {\n\t\t\tnewsService = recipes;\n\t\t} else if(serviceId === 1) {\n\t\t\tnewsService = services;\n\t\t} else {\n\t\t\tnewsService = news;\n\t\t}\n\t\tgetNewsThings();\n\t}\n\t\n\t/*\n\tvm.saveJSON = function () {\n\t\t$log.debug('saveJSON');\n\t\tvm.toJSON = '';\n\t\tvm.toJSON = angular.toJson(vm.newsThings);\n\t\tvar blob = new Blob([vm.toJSON], { type:\"application/json;charset=utf-8;\" });\t\t\t\n\t\t//var blob = new Blob([vm.newsThings], { type:\"application/json;charset=utf-8;\" });\t\t\t\n\t\tvar downloadLink = angular.element('<a></a>');\n        downloadLink.attr('href',URL.createObjectURL(blob));\n        downloadLink.attr('download', 'news.json');\n\t\t$log.debug(downloadLink);\n\t\tdownloadLink[0].click();\n\t}\n\t*/\n\t\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('pasturaboscEditor')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log, ngTranslation, $location) {\n      ngTranslation.use(\n        $location.search().lang\n      );\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('pasturaboscEditor')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('main', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      })\n    ;\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('pasturaboscEditor')\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('pasturaboscEditor')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig, ngTranslationProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n      \n    ngTranslationProvider\n      .setDirectory('app/i18n')\n      .setFilesSuffix('.json')\n      .langsFiles({\n        en: 'en',\n        fr: 'fr',\n        es: 'es',\n        ca: 'ca'\n      })\n      .fallbackLanguage('ca');\n      \n  }\n\n})();\n\nangular.module(\"pasturaboscEditor\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><ul class=\\\"nav nav-tabs\\\"><li class=\\\"active\\\"><a href=\\\"#\\\" ng-click=\\\"main.changeService(0)\\\" data-toggle=\\\"tab\\\">{{\\'EDITFORM_NEWS\\' | translate}}</a></li><li><a href=\\\"#\\\" ng-click=\\\"main.changeService(1)\\\" data-toggle=\\\"tab\\\">{{\\'EDITFORM_SERVICES\\' | translate}}</a></li><li><a href=\\\"#\\\" ng-click=\\\"main.changeService(2)\\\" data-toggle=\\\"tab\\\">{{\\'EDITFORM_RECIPES\\' | translate}}</a></li><li><a href=\\\"#\\\" ng-click=\\\"main.changeService(3)\\\" data-toggle=\\\"tab\\\">{{\\'EDITFORM_METHODOLOGIES\\' | translate}}</a></li></ul></div><div class=\\\"panel-body tab-content\\\"><div class=\\\"text-center\\\"><p class=\\\"lead\\\">{{\\'EDITFORM_TEXT\\' | translate}}</p><form novalidate=\\\"\\\" class=\\\"form-horizontal\\\"><input type=\\\"hidden\\\" ng-model=\\\"main.newsEdit.id\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label col-sm-2\\\" for=\\\"language\\\">{{\\'EDITFORM_LANGUAGE_FIELD\\' | translate}}:</label><div class=\\\"col-sm-8 input-group\\\"><select class=\\\"form-control\\\" name=\\\"language\\\" id=\\\"language\\\" ng-model=\\\"main.selected\\\" ng-change=\\\"main.changeNewsLanguage()\\\"><option ng-repeat=\\\"option in main.languageOptions\\\" value=\\\"{{option.field}}\\\" ng-selected=\\\"option.field == main.selected\\\">{{option.title}}</option></select></div></div><div class=\\\"form-group\\\"><label class=\\\"control-label col-sm-2\\\" for=\\\"title\\\">{{\\'EDITFORM_TITLE_FIELD\\' | translate}}:</label><div class=\\\"col-sm-8 input-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"title\\\" id=\\\"title\\\" placeholder=\\\"{{\\'EDITFORM_TITLE_FIELD\\' | translate}}\\\" ng-model=\\\"main.newsEdit.title\\\"></div></div><div class=\\\"form-group\\\"><label class=\\\"control-label col-sm-2\\\" for=\\\"description\\\">{{\\'EDITFORM_DESCRIPTION_FIELD\\' | translate}}:</label><div class=\\\"col-sm-8 input-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"description\\\" id=\\\"description\\\" placeholder=\\\"{{\\'EDITFORM_DESCRIPTION_FIELD\\' | translate}}\\\" ng-model=\\\"main.newsEdit.description\\\"></div></div><div class=\\\"form-group\\\"><label class=\\\"control-label col-sm-2\\\" for=\\\"comment\\\">{{\\'EDITFORM_TEXT_FIELD\\' | translate}}:</label><div class=\\\"col-sm-8 input-group\\\"><textarea class=\\\"form-control\\\" id=\\\"comment\\\" name=\\\"comment\\\" ng-model=\\\"main.newsEdit.text\\\">{{main.newsEdit.text}}</textarea></div></div><div class=\\\"form-group\\\"><label class=\\\"control-label col-sm-2\\\" for=\\\"image\\\">{{\\'EDITFORM_IMAGE_FIELD\\' | translate}}:</label><div class=\\\"col-sm-8 input-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"image\\\" id=\\\"image\\\" placeholder=\\\"{{\\'EDITFORM_IMAGE_FIELD\\' | translate}}\\\" ng-model=\\\"main.newsEdit.image\\\"></div></div><div class=\\\"form-group\\\"><label class=\\\"control-label col-sm-2\\\" for=\\\"url\\\">{{\\'EDITFORM_URL_FIELD\\' | translate}}:</label><div class=\\\"col-sm-8 input-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"url\\\" id=\\\"url\\\" placeholder=\\\"{{\\'EDITFORM_URL_FIELD\\' | translate}}\\\" ng-model=\\\"main.newsEdit.url\\\"></div></div><div class=\\\"form-group\\\"><label class=\\\"control-label col-sm-2\\\" for=\\\"newsDate\\\">{{\\'EDITFORM_DATE_FIELD\\' | translate}}:</label><div class=\\\"col-sm-8 input-group date\\\" id=\\\"datetimepicker1\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"newsDate\\\" id=\\\"newsDate\\\" ng-model=\\\"main.newsEdit.date\\\"> <span class=\\\"input-group-addon\\\"><span class=\\\"glyphicon glyphicon-calendar\\\"></span></span></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-offset-2 col-sm-8\\\"><button type=\\\"submit\\\" ng-click=\\\"main.save(main.newsEdit)\\\" class=\\\"btn btn-default\\\">{{\\'EDITFORM_SUBMIT\\' | translate}}</button>&nbsp; <button type=\\\"button\\\" ng-hide=\\\"main.newsEdit.id === 0\\\" ng-click=\\\"main.remove(main.newsEdit.id)\\\" class=\\\"btn btn-default\\\">{{\\'EDITFORM_DELETE\\' | translate}}</button>&nbsp; <button type=\\\"button\\\" ng-click=\\\"main.reset()\\\" class=\\\"btn btn-default\\\">{{\\'EDITFORM_RESET\\' | translate}}</button></div></div></form></div><div class=\\\"panel-footer\\\"><div id=\\\"saveJsonContainer\\\"></div><br><div class=\\\"list-group\\\"><a href=\\\"\\\" ng-click=\\\"main.loadNewsThing(newsThing.id)\\\" class=\\\"list-group-item\\\" ng-repeat=\\\"newsThing in main.newsThings | filter:main.newsThingFilter:strict\\\"><h4 class=\\\"list-group-item-heading\\\">{{newsThing.title}}</h4><p class=\\\"list-group-item-text\\\">{{newsThing.description}}</p></a></div></div></div></div>\");\n$templateCache.put(\"app/components/footer/footer.html\",\"<div class=\\\"footer\\\"><p class=\\\"pull-left\\\">This is your footer</p><div class=\\\"btn-group dropup pull-right\\\" uib-dropdown=\\\"\\\" is-open=\\\"status.isopen\\\"><a id=\\\"dataToggle2\\\" name=\\\"dataToggle2\\\" data-toggle2=\\\"uib-dropdown\\\" class=\\\"btn btn-default uib-dropdown-toggle\\\" uib-dropdown-toggle=\\\"\\\" ng-disabled=\\\"disabled\\\"><span class=\\\"glyphicon glyphicon-adjust\\\"></span> <span class=\\\"hidden-tablet\\\">Theme</span> <b class=\\\"caret\\\"></b></a><ul class=\\\"uib-dropdown-menu\\\" role=\\\"menu\\\"><li class=\\\"theme-link\\\" ng-repeat=\\\"theme in themes\\\"><a href=\\\"\\\" jh-switch-theme=\\\"theme\\\">{{theme.name}}</a></li></ul></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top\\\"><div class=\\\"container-fluid\\\"><div class=\\\"navbar-header\\\"><a class=\\\"navbar-brand\\\" href=\\\"#/\\\"><span class=\\\"glyphicon glyphicon-home\\\"></span> {{\\'NAVBAR_TITLE\\' | translate}}</a></div><div class=\\\"collapse navbar-collapse\\\" id=\\\"bs-example-navbar-collapse-6\\\"><ul class=\\\"nav navbar-nav\\\"><li class=\\\"active\\\"><a ng-href=\\\"#/\\\">{{\\'NAVBAR_HOME\\' | translate}}</a></li></ul><ul class=\\\"nav navbar-nav navbar-right\\\"><li><div class=\\\"btn-group\\\" uib-dropdown=\\\"\\\" is-open=\\\"status.isopen\\\"><a id=\\\"dataToggle\\\" name=\\\"dataToggle\\\" data-toggle=\\\"uib-dropdown\\\" class=\\\"btn uib-dropdown-toggle\\\" uib-dropdown-toggle=\\\"\\\" ng-disabled=\\\"disabled\\\"><i class=\\\"glyphicon glyphicon-flag\\\"></i><span class=\\\"caret\\\"></span></a><ul class=\\\"uib-dropdown-menu\\\"><li><a href=\\\"\\\" ng-click=\\\"changeLanguage(\\'ca\\')\\\" title=\\\"{{ \\'LANGUAGE_CATALONIAN\\' | translate }}\\\"><img alt=\\\"Flag icon\\\" ng-src=\\\"assets/images/catalonia-flag.svg\\\" style=\\\"width:16px;height:16px\\\"> {{ \\'LANGUAGE_CATALONIAN\\' | translate }}</a></li><li><a href=\\\"\\\" ng-click=\\\"changeLanguage(\\'es\\')\\\" title=\\\"{{ \\'LANGUAGE_SPANISH\\' | translate }}\\\"><img alt=\\\"Flag icon\\\" ng-src=\\\"assets/images/spain-flag.svg\\\" style=\\\"width:16px;height:16px\\\"> {{ \\'LANGUAGE_SPANISH\\' | translate }}</a></li><li><a href=\\\"\\\" ng-click=\\\"changeLanguage(\\'en\\')\\\" title=\\\"{{ \\'LANGUAGE_ENGLISH\\' | translate }}\\\"><img alt=\\\"Flag icon\\\" ng-src=\\\"assets/images/uk-flag.svg\\\" style=\\\"width:16px;height:16px\\\"> {{ \\'LANGUAGE_ENGLISH\\' | translate }}</a></li><li><a href=\\\"\\\" ng-click=\\\"changeLanguage(\\'fr\\')\\\" title=\\\"{{ \\'LANGUAGE_FRENCH\\' | translate }}\\\"><img alt=\\\"Flag icon\\\" ng-src=\\\"assets/images/france-flag.svg\\\" style=\\\"width:16px;height:16px\\\"> {{ \\'LANGUAGE_FRENCH\\' | translate }}</a></li></ul></div></li></ul></div></div></nav>\");}]);"],"sourceRoot":"/source/"}