!function(){"use strict";angular.module("pasturaboscEditor",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap","toastr","ng-translation","uiGmapgoogle-maps"])}(),function(){"use strict";function e(e,t){var n=this;n.changeLanguage=function(n){t.debug("TranslateController.changeLanguage to "+n),e.use(n)}}e.$inject=["ngTranslation","$log"],angular.module("pasturaboscEditor").controller("TranslateController",e)}(),function(){"use strict";function e(e,t){function n(){var n=t.defer(),a=n.promise;return e.get("assets/news/services.json").success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),a}function a(){return"services.json"}this.getNews=n,this.getNewsFileName=a}e.$inject=["$http","$q"],angular.module("pasturaboscEditor").service("services",e)}(),function(){"use strict";function e(e,t){function n(){var n=t.defer(),a=n.promise;return e.get("assets/news/recipes.json").success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),a}function a(){return"recipes.json"}this.getNews=n,this.getNewsFileName=a}e.$inject=["$http","$q"],angular.module("pasturaboscEditor").service("recipes",e)}(),function(){"use strict";function e(e,t){function n(){var n=t.defer(),a=n.promise;return e.get("assets/news/news.json").success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),a}function a(){return"news.json"}this.getNews=n,this.getNewsFileName=a}e.$inject=["$http","$q"],angular.module("pasturaboscEditor").service("news",e)}(),function(){"use strict";function e(){function e(e,t,n,a){a.changeLanguage=function(e){t.debug("NavbarController.changeLanguage to "+e),a.language=e,n.use(e)}}e.$inject=["moment","$log","ngTranslation","$scope"];var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{relativeDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("pasturaboscEditor").directive("acmeNavbar",e)}(),function(){"use strict";function e(e,t){function n(){var n=t.defer(),a=n.promise;return e.get("assets/news/methodologies.json").success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),a}function a(){return"methodologies.json"}this.getNews=n,this.getNewsFileName=a}e.$inject=["$http","$q"],angular.module("pasturaboscEditor").service("methodologies",e)}(),function(){"use strict";function e(){function e(e,t){function n(){a()}function a(){t.get().then(function(t){e.themes=t,e.themes.unshift({name:"Default",css:""})})}e.themes=[],n()}e.$inject=["$scope","BootSwatchService"];var t={restrict:"E",templateUrl:"app/components/footer/footer.html",scope:{relativeDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("pasturaboscEditor").directive("acmeFooter",e)}(),angular.module("pasturaboscEditor").factory("BootSwatchService",["$http",function(e){return{get:function(){return e.get("http://bootswatch.com/api/3.json").then(function(e){return e.data.themes})}}}]),angular.module("pasturaboscEditor").directive("jhSwitchTheme",function(){return{restrict:"A",scope:{theme:"=jhSwitchTheme"},link:function(e,t){var n=angular.element("#bootswatch-css").attr("title");e.theme.name===n&&t.parent().addClass("active"),t.on("click",function(){angular.element("#bootswatch-css").attr("href",e.theme.css),angular.element(".theme-link").removeClass("active"),t.parent().addClass("active")})}}}),function(){"use strict";function e(e,t,n,a,s,i){function l(){u(),r(),angular.element("#comment").wysihtml5({html:!0}),o(),angular.element("#datetimepicker1").datetimepicker({format:"DD/MM/YYYY"})}function o(){g.newsEdit={id:0,language:"ca",image:"",url:"",date:"",title:"",description:"",text:""},angular.element("#comment").data("wysihtml5").editor.setValue("")}function r(){d.getNews().then(function(e){g.newsThings=e})["catch"](function(e){t.error(e)})}function c(){angular.element("#saveJsonContainer").html("");var e="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(g.newsThings)),t=d.getNewsFileName();angular.element('<a href="data:'+e+'" download="'+t+'">Exportar '+t+"</a>").appendTo("#saveJsonContainer")}function u(){g.languageOptions=[{field:"ca",title:"Català"},{field:"es",title:"Castellà"},{field:"en",title:"Angles"},{field:"fr",title:"Frances"}],g.selected=g.languageOptions[0].field,g.newsThingFilter.language=g.selected}var g=this;g.newsThings=[],g.newsEdit={},g.newsThingFilter={},g.languageOptions=[],g.selected={};var d=e;l(),g.loadNewsThing=function(e){t.debug("loadNewsThing id:"+e);for(var n=0;n<g.newsThings.length;n++)if(g.newsThings[n].id===e){g.newsEdit=g.newsThings[n],angular.element("#comment").data("wysihtml5").editor.setValue(g.newsEdit.text);break}},g.remove=function(e){for(var t=0;t<g.newsThings.length;t++)if(g.newsThings[t].id===e){g.newsThings.splice(t,1),c(),n.success("Content removed correctly"),o();break}},g.reset=function(){o()},g.save=function(e){if(t.debug("save newsEdited"),e.text=angular.element("#comment").val(),0===e.id)e.id=g.newsThings.length+1,g.newsThings.push(e),n.success("Content created correctly");else for(var a=0;a<g.newsThings.length;a++)if(g.newsThings[a].id===e.id){g.newsThings[a]=e,n.success("Content updated correctly");break}c(),t.debug(e)},g.changeNewsLanguage=function(){g.newsThingFilter.language=g.selected,o()},g.changeService=function(t){o(),angular.element("#saveJsonContainer").html(""),d=3===t?s:2===t?i:1===t?a:e,r()}}e.$inject=["news","$log","toastr","services","methodologies","recipes"],angular.module("pasturaboscEditor").controller("MainController",e)}(),function(){"use strict";function e(e,t,n){t.use(n.search().lang),e.debug("runBlock end")}e.$inject=["$log","ngTranslation","$location"],angular.module("pasturaboscEditor").run(e)}(),function(){"use strict";function e(e,t){e.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("pasturaboscEditor").config(e)}(),function(){"use strict";angular.module("pasturaboscEditor").constant("moment",moment)}(),function(){"use strict";function e(e,t,n){e.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!0,t.progressBar=!0,n.setDirectory("app/i18n").setFilesSuffix(".json").langsFiles({en:"en",fr:"fr",es:"es",ca:"ca"}).fallbackLanguage("ca")}e.$inject=["$logProvider","toastrConfig","ngTranslationProvider"],angular.module("pasturaboscEditor").config(e)}(),angular.module("pasturaboscEditor").run(["$templateCache",function(e){e.put("app/main/main.html",'<div class="panel panel-default"><div class="panel-heading"><ul class="nav nav-tabs"><li class="active"><a href="#" ng-click="main.changeService(0)" data-toggle="tab">{{\'EDITFORM_NEWS\' | translate}}</a></li><li><a href="#" ng-click="main.changeService(1)" data-toggle="tab">{{\'EDITFORM_SERVICES\' | translate}}</a></li><li><a href="#" ng-click="main.changeService(2)" data-toggle="tab">{{\'EDITFORM_RECIPES\' | translate}}</a></li><li><a href="#" ng-click="main.changeService(3)" data-toggle="tab">{{\'EDITFORM_METHODOLOGIES\' | translate}}</a></li></ul></div><div class="panel-body tab-content"><div class="text-center"><p class="lead">{{\'EDITFORM_TEXT\' | translate}}</p><form novalidate="" class="form-horizontal"><input type="hidden" ng-model="main.newsEdit.id"><div class="form-group"><label class="control-label col-sm-2" for="language">{{\'EDITFORM_LANGUAGE_FIELD\' | translate}}:</label><div class="col-sm-8 input-group"><select class="form-control" name="language" id="language" ng-model="main.selected" ng-change="main.changeNewsLanguage()"><option ng-repeat="option in main.languageOptions" value="{{option.field}}" ng-selected="option.field == main.selected">{{option.title}}</option></select></div></div><div class="form-group"><label class="control-label col-sm-2" for="title">{{\'EDITFORM_TITLE_FIELD\' | translate}}:</label><div class="col-sm-8 input-group"><input type="text" class="form-control" name="title" id="title" placeholder="{{\'EDITFORM_TITLE_FIELD\' | translate}}" ng-model="main.newsEdit.title"></div></div><div class="form-group"><label class="control-label col-sm-2" for="description">{{\'EDITFORM_DESCRIPTION_FIELD\' | translate}}:</label><div class="col-sm-8 input-group"><input type="text" class="form-control" name="description" id="description" placeholder="{{\'EDITFORM_DESCRIPTION_FIELD\' | translate}}" ng-model="main.newsEdit.description"></div></div><div class="form-group"><label class="control-label col-sm-2" for="comment">{{\'EDITFORM_TEXT_FIELD\' | translate}}:</label><div class="col-sm-8 input-group"><textarea class="form-control" id="comment" name="comment" ng-model="main.newsEdit.text">{{main.newsEdit.text}}</textarea></div></div><div class="form-group"><label class="control-label col-sm-2" for="image">{{\'EDITFORM_IMAGE_FIELD\' | translate}}:</label><div class="col-sm-8 input-group"><input type="text" class="form-control" name="image" id="image" placeholder="{{\'EDITFORM_IMAGE_FIELD\' | translate}}" ng-model="main.newsEdit.image"></div></div><div class="form-group"><label class="control-label col-sm-2" for="url">{{\'EDITFORM_URL_FIELD\' | translate}}:</label><div class="col-sm-8 input-group"><input type="text" class="form-control" name="url" id="url" placeholder="{{\'EDITFORM_URL_FIELD\' | translate}}" ng-model="main.newsEdit.url"></div></div><div class="form-group"><label class="control-label col-sm-2" for="newsDate">{{\'EDITFORM_DATE_FIELD\' | translate}}:</label><div class="col-sm-8 input-group date" id="datetimepicker1"><input type="text" class="form-control" name="newsDate" id="newsDate" ng-model="main.newsEdit.date"> <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-8"><button type="submit" ng-click="main.save(main.newsEdit)" class="btn btn-default">{{\'EDITFORM_SUBMIT\' | translate}}</button>&nbsp; <button type="button" ng-hide="main.newsEdit.id === 0" ng-click="main.remove(main.newsEdit.id)" class="btn btn-default">{{\'EDITFORM_DELETE\' | translate}}</button>&nbsp; <button type="button" ng-click="main.reset()" class="btn btn-default">{{\'EDITFORM_RESET\' | translate}}</button></div></div></form></div><div class="panel-footer"><div id="saveJsonContainer"></div><br><div class="list-group"><a href="" ng-click="main.loadNewsThing(newsThing.id)" class="list-group-item" ng-repeat="newsThing in main.newsThings | filter:main.newsThingFilter:strict"><h4 class="list-group-item-heading">{{newsThing.title}}</h4><p class="list-group-item-text">{{newsThing.description}}</p></a></div></div></div></div>'),e.put("app/components/footer/footer.html",'<div class="footer"><p class="pull-left">This is your footer</p><div class="btn-group dropup pull-right" uib-dropdown="" is-open="status.isopen"><a id="dataToggle2" name="dataToggle2" data-toggle2="uib-dropdown" class="btn btn-default uib-dropdown-toggle" uib-dropdown-toggle="" ng-disabled="disabled"><span class="glyphicon glyphicon-adjust"></span> <span class="hidden-tablet">Theme</span> <b class="caret"></b></a><ul class="uib-dropdown-menu" role="menu"><li class="theme-link" ng-repeat="theme in themes"><a href="" jh-switch-theme="theme">{{theme.name}}</a></li></ul></div></div>'),e.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="#/"><span class="glyphicon glyphicon-home"></span> {{\'NAVBAR_TITLE\' | translate}}</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"><ul class="nav navbar-nav"><li class="active"><a ng-href="#/">{{\'NAVBAR_HOME\' | translate}}</a></li></ul><ul class="nav navbar-nav navbar-right"><li><div class="btn-group" uib-dropdown="" is-open="status.isopen"><a id="dataToggle" name="dataToggle" data-toggle="uib-dropdown" class="btn uib-dropdown-toggle" uib-dropdown-toggle="" ng-disabled="disabled"><i class="glyphicon glyphicon-flag"></i><span class="caret"></span></a><ul class="uib-dropdown-menu"><li><a href="" ng-click="changeLanguage(\'ca\')" title="{{ \'LANGUAGE_CATALONIAN\' | translate }}"><img alt="Flag icon" ng-src="assets/images/catalonia-flag.svg" style="width:16px;height:16px"> {{ \'LANGUAGE_CATALONIAN\' | translate }}</a></li><li><a href="" ng-click="changeLanguage(\'es\')" title="{{ \'LANGUAGE_SPANISH\' | translate }}"><img alt="Flag icon" ng-src="assets/images/spain-flag.svg" style="width:16px;height:16px"> {{ \'LANGUAGE_SPANISH\' | translate }}</a></li><li><a href="" ng-click="changeLanguage(\'en\')" title="{{ \'LANGUAGE_ENGLISH\' | translate }}"><img alt="Flag icon" ng-src="assets/images/uk-flag.svg" style="width:16px;height:16px"> {{ \'LANGUAGE_ENGLISH\' | translate }}</a></li><li><a href="" ng-click="changeLanguage(\'fr\')" title="{{ \'LANGUAGE_FRENCH\' | translate }}"><img alt="Flag icon" ng-src="assets/images/france-flag.svg" style="width:16px;height:16px"> {{ \'LANGUAGE_FRENCH\' | translate }}</a></li></ul></div></li></ul></div></div></nav>')}]);
//# sourceMappingURL=../maps/scripts/app-1c67d08fe3.js.map
